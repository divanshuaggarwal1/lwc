<template>
    <lightning-card>

        <div class="slds-card__body slds-card__body_inner">
            <div
                class="slds-p-top_small slds-p-bottom_medium slds-align_absolute-center slds-theme_default slds-text-heading_medium">
                <b>Data Virtualization - dd Object Configuration</b>
            </div>
        </div>

        <div class="slds-m-around_medium ">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                <thead>
                    <tr class="slds-line-height_reset">

                        <th scope="col">
                            <div class="slds-truncate" title="No.">No.</div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Field Name">
                                <lightning-icon icon-name="utility:user" alternative-text="Field Name" size="small"
                                    class="slds-m-right_xx-small"></lightning-icon> Field Name
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Field Type">
                                <lightning-icon icon-name="utility:company" alternative-text="Field Type" size="small"
                                    class="slds-m-right_xx-small"></lightning-icon> Field Type
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Decimal">
                                <lightning-icon icon-name="utility:desktop_console" alternative-text="Decimal"
                                    size="small" class="slds-m-right_xx-small"></lightning-icon> Decimal
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Length">
                                Length
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Filterable">
                                Filterable
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="External ID">
                                External ID
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Sortable">
                                Sortable
                            </div>
                        </th>

                        <th scope="col">
                            <div class="slds-truncate" title="Actions">
                                Actions
                            </div>
                        </th>

                    </tr>
                </thead>

                <tbody>
                    <template for:each={data} for:item="row">
                        <tr key={row.id}>
                            <td>
                                <div class="slds-truncate" title={row.index}>{row.index}</div>
                            </td>
                            <td>
                                <lightning-input value={row.name} data-id={row.id} data-field="name" placeholder="name"
                                    onchange={handleInputChange}>
                                </lightning-input>
                            </td>
                            <td>
                                <lightning-combobox data-id={row.id} data-field="type" placeholder="Select an Option"
                                    value={row.type} options={fieldTypeOptions} onchange={handleInputChange}>
                                </lightning-combobox>
                            </td>
                            <td>
                                <lightning-combobox data-id={row.id} data-field="decimal" placeholder="Select an Option"
                                    value={row.decimal} options={decimalOptions} onchange={handleInputChange}>
                                </lightning-combobox>
                            </td>
                            <td>
                                <lightning-input value={row.length} data-id={row.id} data-field="length"
                                    placeholder="length" onchange={handleInputChange}>
                                </lightning-input>
                            </td>
                            <td>
                                <lightning-input type="checkbox" checked={row.filterable} data-id={row.id}
                                    data-field="filterable" onchange={handleInputChange}>
                                </lightning-input>
                            </td>
                            <td>
                                <lightning-input type="checkbox" checked={row.externalId} data-id={row.id}
                                    data-field="externalId" onchange={handleInputChange}>
                                </lightning-input>
                            </td>
                            <td>
                                <lightning-input type="checkbox" checked={row.sortable} data-id={row.id}
                                    data-field="sortable" onchange={handleInputChange}>
                                </lightning-input>
                            </td>
                            <td>
                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                    data-id={row.id} onclick={handleDeleteRow} disabled={row.disableDelete}>

                                </lightning-button-icon>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
            <div style="margin-top: 40px;">

                <lightning-button label="+ Add Row" onclick={handleAddRow}
                    class="slds-m-bottom_medium slds-m-top_large"></lightning-button>

            </div>

            <div class="slds-grid slds-m-top_medium slds-grid_vertical-align-center">

                <lightning-button label="Previous" variant="neutral" onclick={handlePrevious}></lightning-button>

                <div class="slds-col slds-text-align_center">
                    <lightning-progress-indicator current-step="3" type="base" variant="base">
                        <lightning-progress-step label="Step One" value="1"></lightning-progress-step>
                        <lightning-progress-step label="Step Two" value="2"></lightning-progress-step>
                        <lightning-progress-step label="Step Three" value="3"></lightning-progress-step>
                    </lightning-progress-indicator>
                </div>

                <lightning-button label="Next" variant="brand" onclick={handleNext}></lightning-button>

            </div>
        </div>
    </lightning-card>

</template>